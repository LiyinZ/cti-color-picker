!function(){"use strict";function t(){function t(t,e,r,a){function o(t,e){return Math.floor(Math.random()*(e-t+1))+t}function n(t,e,r){var a=t.getImageData(e,r,1,1),o=a.data;return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"}function c(t,e,r){var a=t.createLinearGradient(0,e/2,e,e/2),o=t.createLinearGradient(e/2,0,e/2,e);t.clearRect(0,0,e,e),a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(1,r),t.fillStyle=a,t.fillRect(0,0,e,e),o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),t.fillStyle=o,t.fillRect(0,0,e,e)}function i(t,e,r){var a=t.createLinearGradient(0,0,e,0);a.addColorStop(0,"rgba(255, 0, 0, 1)"),a.addColorStop(.15,"rgba(255, 0, 255, 1)"),a.addColorStop(.33,"rgba(0, 0, 255, 1)"),a.addColorStop(.49,"rgba(0, 255, 255, 1)"),a.addColorStop(.67,"rgba(0, 255, 0, 1)"),a.addColorStop(.84,"rgba(255, 255, 0, 1)"),a.addColorStop(1,"rgba(255, 0, 0, 1)"),t.fillStyle=a,t.fillRect(0,0,e,r)}function s(t,e){w.style.left=t-S+"px",w.style.top=e-S+"px"}function f(t){_.style.left=t-k+"px"}function l(t){T.style.background=t}function d(t,e){return e-t.offsetLeft}function u(t,e){return e-t.offsetTop}function p(t,e){return e+t.offsetLeft}function v(t,e){return e+t.offsetTop}function g(t,e,r,a){return e<t[r]?e=t[r]:e>=t[a]&&(e=t[a]-1),e}function h(t){var e=g(R,t.center.x,"offsetLeft","offsetRight"),r=g(R,t.center.y,"offsetTop","offsetBottom");s(e,r);var a=n(P,d(R,e),u(R,r));l(a),t.isFinal&&(q.cv0_x=d(R,e),q.cv0_y=u(R,r),q.rgba=a)}function b(t){var e=g(H,t.center.x,"offsetLeft","offsetRight");f(e);var r=n(M,d(H,e),L/2);c(P,R.width,r);var a=n(P,q.cv0_x,q.cv0_y);l(a),t.isFinal&&(q.cv1_x=d(H,e),q.rgba=a)}function C(t){switch(t.target.className){case"cti-canvas-square":h(t);break;case"cti-canvas-strip":b(t);break;default:return}}function y(t){switch(t.target.className){case"cti-canvas-square":h(t);break;case"cti-canvas-strip":b(t);break;default:return}}var m=e[0],x=m.clientWidth,w=m.children[0],S=w.offsetWidth/2,_=m.children[1],k=_.offsetWidth/2,L=60,T=document.getElementById("cp-color-display"),R=m.children[2],H=m.children[3],P=R.getContext("2d"),M=H.getContext("2d"),q=a.colorData||{cv0_x:x-S,cv0_y:S,cv1_x:o(0,x)};R.width=x,R.height=x,H.width=x,R.offsetRight=R.offsetLeft+R.width,R.offsetBottom=R.offsetTop+R.height,H.offsetRight=H.offsetLeft+H.width,i(M,x,L);var A=n(M,q.cv1_x,L/2);c(P,x,A),_.style.top=H.offsetTop+"px",s(p(R,q.cv0_x),v(R,q.cv0_y)),f(p(H,q.cv1_x)),q.rgba=q.rgba||n(P,q.cv0_x,q.cv0_y),l(q.rgba);var B=new Hammer(m);B.on("tap",C),B.on("pan",y)}var r={template:"<span class=cti-cp-circle></span> <span class=cti-cp-bar></span><canvas class=cti-canvas-square>Your browser does not support the HTML5 canvas tag.</canvas><canvas class=cti-canvas-strip height=60>Your browser does not support the HTML5 canvas tag.</canvas>",bindToController:!0,controller:e,controllerAs:"cp",link:t,restrict:"A",scope:{colorData:"=ctiColorPicker"}};return r}function e(){}if("undefined"==typeof angular)throw Error("CTi Color Picker: AngularJS (window.angular) is undefined but is necessary.");if("undefined"==typeof Hammer)throw Error("CTi Color Picker: HammerJS (window.Hammer) is undefined but is necessary.");angular.module("ctiColorPicker",[]).directive("ctiColorPicker",t),t.$inject=[]}();